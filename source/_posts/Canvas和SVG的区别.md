---
title: Canvas和SVG的区别
date: 2015-11-10 10:29:14
tags:
---
Canvas和SVG是html5支持的两种可视化技术。基于这两种技术，诞生了很多可视化工具。

Echarts是基于Canvas技术的可视化工具，底层封装了原生的JavaScript的绘图 API。我们很容易联想到另一个同样很优秀的web前端可视化库D3，D3是也最流行的可视化库之一，它被很多其他的表格插件所使用。D3底层基于SVG技术，与Canvas完全不一样，SVG的本质是一个XML 文档。

这两种方式在功能上是等同的，任何一种都可以用另一种来模拟。它们都是有效的图形工具，可用来快速创建在网页中显示的轻型图形；它们都使用 JavaScript 和 HTML；它们都遵守万维网联合会 (W3C) 标准。

Canvas和SVG都允许您在浏览器中创建图形，但是它们在根本上是不同的。它们很不相同，他们各有强项和弱点。

Canvas 通过JavaScript来绘制2D图形。Canvas 是逐像素进行渲染的。在 canvas 中，一旦图形被绘制完成，它就不会继续得到浏览器的关注。如果其位置发生变化，那么整个场景也需要重新绘制，包括任何或许已被图形覆盖的对象。

SVG 是一种使用 XML 描述 2D 图形的语言。SVG 基于 XML，这意味着 SVG DOM 中的每个元素都是可用的。您可以为某个元素附加 JavaScript 事件处理器。在 SVG 中，每个被绘制的图形均被视为对象。如果 SVG 对象的属性发生变化，那么浏览器能够自动重现图形。

### **这两种技术之间的主要区别是：**

 Canvas 是基于像素的即时模式图形系统，最适合较小的表面或较大数量的对象，Canvas不支持鼠标键盘等事件。

 SVG 是基于形状的保留模式图形系统，更加适合较大的表面或较小数量的对象。Canvas和SVG在修改方式上还存在着不同。绘制Canvas对象后，不能使用脚本和 CSS 对它进行修改。因为 SVG 对象是文档对象模型的一部分，所以可以随时使用脚本和 CSS 修改它们。

### 现在对两种技术做对比归纳如下：

#### Canvas

1)依赖分辨率

2)不支持事件处理器

3)弱的文本渲染能力

4)能够以 .png 或 .jpg 格式保存结果图像

5)最适合图像密集型的游戏，其中的许多对象会被频繁重绘

#### SVG

1)不依赖分辨率

2)支持事件处理器

3)最适合带有大型渲染区域的应用程序（比如谷歌地图）

4)复杂度高会减慢渲染速度（任何过度使用 DOM 的应用都不快）

5)不适合游戏应用

以上对Echarts底层技术（Canvas）结合同类技术（SVG）做了简单的对比介绍，尽管从应用层的开发来说，我们可以不去关注原理，但我一直相信，了解技术的本质，更加有利于我们开发出强大且优秀的应用。
